extends layout

block body
	div(ng-controller='AppCtrl').titlearea.group
		div.div.row 
			div.col-sm-4
				h2: a(href='browse') CATS Reference Collections
			div.col-sm-3
				form(role="form").form-inline
					div.form-group
						label.sr-only Search
						div.input-group
							input(type="text", ng-model="searchTerm", placeholder="Enter search term").form-control
							span.input-group-btn
								button(ng-click="searchClicked(searchTerm)").btn.btn-default: i.glyphicon.glyphicon-search
			div.col-sm-2.login
				button(ng-show="!loggedin", ng-click="loginUser()", popover="Login to register new samples", popover-trigger="mouseenter", popover-popup-delay="2000", popover-placement="bottom").btn.btn-default
					span.glyphicon.glyphicon-user 
						|Login
				button(ng-show="loggedin", ng-click="logout()", popover="Logout", popover-trigger="mouseenter", popover-popup-delay="2000", popover-placement="bottom").btn.btn-default
					span.glyphicon.glyphicon-user 
						|Logout
				script(type="text/ng-template")#myLoginContent
					div.modal-header
						h3 Login
					div.modal-body
						form(role="form", name="form", novalidate, ng-class="{submitted:submitted}")
							div.form-group
								label.control_label(for="email") Email
								input(type="email", ng-model="email", ng-required="true", ng-model-options="{updateOn: 'blur'}",
										required).form-control
							div.form-group
								label.control_label(for="password") Password
								input(type="password", ng-model="password", ng-required="true", ng-model-options="{updateOn: 'blur'}",
										required).form-control
							alert(ng-repeat="alert in alerts", type="{{alert.type}}", close="closeAlert($index)").animation: i(class="{{alert.icon}}")  {{alert.msg}}
							button(ng-click="login(form, email, password)", type="button").btn.btn-primary.btn-block Login
			div.col-sm-1
			div.col-sm-2
				img(src="/images/logo2.jpg")
	div(ng-view)

	div
		| CATS Reference Sample Database: v
		span(app-version)

	script(src='js/lib/angular_1.2.16/angular.js')
	script(src='js/lib/angular_1.2.16/angular-route.js')
	script(src='js/lib/angular_1.2.16/angular-animate.js')
	script(src='js/lib/ui.bootstrap/ui-bootstrap-tpls-0.11.0.js')
	script(src='js/lib/multiselect/multiselect-tpls.js')
	script(src='js/lib/multiselect/cats-multiselect-tpls.js')
	script(src='js/lib/multiselect/cats-artistselect-tpls.js')
	script(src='js/app.js')
	script(src='js/services.js')
	script(src='js/controllers.js')
	script(src='js/filters.js')
	script(src='js/directives.js')
